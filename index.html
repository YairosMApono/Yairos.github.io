<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#1a472a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Empire Builder â€“ Ein Einzelspieler-Strategie-Browserspiel. Baue dein Reich, verwalte Rohstoffe und rekrutiere Truppen.">
    <title>Empire Builder â€“ Einzelspieler Strategie</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="toastContainer" class="toast-container"></div>

    <div class="game-container">

        <!-- Header -->
        <header class="game-header">
            <h1>âš”ï¸ Empire Builder</h1>
            <p>Baue dein Reich â€“ Einzelspieler Strategie</p>
            <div class="header-stats">
                <span class="score-display">â­ <span id="gameScore">0</span> Punkte</span>
                <span class="score-display">â±ï¸ <span id="gameTime">Tag 1</span></span>
                <button class="btn btn-sm" id="resetBtn">ğŸ”„ Neues Spiel</button>
            </div>
        </header>

        <!-- Resource Bar -->
        <div class="resource-bar">
            <button class="help-btn" data-help="resources">?</button>

            <div class="resource">
                <span class="resource-icon">ğŸªµ</span>
                <div class="resource-info">
                    <span class="resource-value" id="resWood">0</span>
                    <div class="resource-rate" id="rateWood">+0/h</div>
                    <div class="resource-storage" id="storeWood"></div>
                    <div class="resource-fill-bar"><div class="resource-fill" id="fillWood"></div></div>
                </div>
            </div>

            <div class="resource">
                <span class="resource-icon">ğŸ§±</span>
                <div class="resource-info">
                    <span class="resource-value" id="resClay">0</span>
                    <div class="resource-rate" id="rateClay">+0/h</div>
                    <div class="resource-storage" id="storeClay"></div>
                    <div class="resource-fill-bar"><div class="resource-fill" id="fillClay"></div></div>
                </div>
            </div>

            <div class="resource">
                <span class="resource-icon">âš™ï¸</span>
                <div class="resource-info">
                    <span class="resource-value" id="resIron">0</span>
                    <div class="resource-rate" id="rateIron">+0/h</div>
                    <div class="resource-storage" id="storeIron"></div>
                    <div class="resource-fill-bar"><div class="resource-fill" id="fillIron"></div></div>
                </div>
            </div>

            <div class="resource">
                <span class="resource-icon">ğŸŒ¾</span>
                <div class="resource-info">
                    <span class="resource-value" id="resCrop">0</span>
                    <div class="resource-rate" id="rateCrop">+0/h</div>
                    <div class="resource-storage" id="storeCrop"></div>
                    <div class="resource-fill-bar"><div class="resource-fill" id="fillCrop"></div></div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab active" data-tab="map">ğŸ—ºï¸ Karte</button>
            <button class="tab" data-tab="village">ğŸ° Dorf</button>
            <button class="tab" data-tab="troops">âš”ï¸ Truppen</button>
            <button class="tab" data-tab="reports">ğŸ“œ Berichte</button>
        </div>

        <!-- Build Queue -->
        <div id="queueContainer" class="queue" style="display:none">
            <div id="queueList"></div>
        </div>

        <!-- Tab: Karte -->
        <div id="mapTab" class="tab-panel active">
            <div class="section-container">
                <div class="section-header">
                    <h3 class="section-title">Weltkarte</h3>
                    <button class="help-btn" data-help="map">?</button>
                </div>
                <div class="map-grid" id="mapGrid"></div>
                <div class="info-panel">
                    <h3>â„¹ï¸ Hinweis</h3>
                    <p>Klicke auf dein Dorf (ğŸ°) um es zu verwalten. Baue Rohstofffelder aus, errichte GebÃ¤ude und rekrutiere Truppen!</p>
                </div>
            </div>
        </div>

        <!-- Tab: Dorf -->
        <div id="villageTab" class="tab-panel">
            <div class="section-container">
                <div class="section-header">
                    <h3 class="section-title">Dorfzentrum</h3>
                    <button class="help-btn" data-help="village">?</button>
                </div>
                <p class="section-subtitle">Klicke auf ein GebÃ¤ude oder Feld zum Ausbauen</p>
                <div class="village-layout" id="villageLayout"></div>

                <div class="section-header">
                    <h3 class="section-title">Rohstofffelder</h3>
                    <button class="help-btn" data-help="fields">?</button>
                </div>
                <div class="resource-fields" id="resourceFields"></div>
            </div>
        </div>

        <!-- Tab: Truppen -->
        <div id="troopsTab" class="tab-panel">
            <div class="section-container">
                <div class="section-header">
                    <h3 class="section-title">Kaserne</h3>
                    <button class="help-btn" data-help="troops">?</button>
                </div>
                <p class="section-subtitle">Rekrutiere Truppen â€“ jede Einheit verbraucht Getreide pro Stunde</p>
                <div class="troops-summary" id="troopsSummary"></div>
                <div class="troops-grid" id="troopsGrid"></div>
            </div>
        </div>

        <!-- Tab: Berichte -->
        <div id="reportsTab" class="tab-panel">
            <div class="section-container">
                <div class="section-header">
                    <h3 class="section-title">Berichte</h3>
                    <button class="help-btn" data-help="reports">?</button>
                </div>
                <div class="report-list" id="reportList"></div>
            </div>
        </div>

    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal help-modal" style="z-index:1001">
        <div class="modal-content">
            <h2 id="helpTitle">Hilfe</h2>
            <p class="help-text" id="helpText"></p>
            <div class="modal-actions">
                <button class="btn" id="helpClose">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Building/Field Modal -->
    <div id="buildingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">GebÃ¤ude</h2>
                <button class="help-btn" id="modalHelpBtn" style="display:none">?</button>
            </div>
            <p class="desc" id="modalDesc"></p>
            <div class="costs" id="modalCosts"></div>
            <div class="time" id="modalTime"></div>
            <div class="modal-actions">
                <button class="btn btn-danger" id="modalCancel">Abbrechen</button>
                <button class="btn" id="modalBuild">Ausbauen</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
