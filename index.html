<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#1a472a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Empire Builder - Einzelspieler Strategie</title>
    <link rel="stylesheet" href="./assets/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <h1>âš”ï¸ Empire Builder</h1>
            <p>Baue dein Reich â€“ Einzelspieler Strategie</p>
            <div class="header-actions">
                <button class="btn btn-sm" id="btnNewGame" type="button">ğŸ”„ Neues Spiel</button>
            </div>
        </header>

        <div class="resource-bar">
            <button class="help-btn" type="button" data-help="resources" aria-label="Hilfe zu Rohstoffen">?</button>
            <div class="resource"><span class="resource-icon">ğŸªµ</span><div><span class="resource-value" id="resWood">0</span><div class="resource-rate" id="rateWood">+0/h</div><div class="resource-storage" id="storeWood"></div></div></div>
            <div class="resource"><span class="resource-icon">ğŸ§±</span><div><span class="resource-value" id="resClay">0</span><div class="resource-rate" id="rateClay">+0/h</div><div class="resource-storage" id="storeClay"></div></div></div>
            <div class="resource"><span class="resource-icon">âš™ï¸</span><div><span class="resource-value" id="resIron">0</span><div class="resource-rate" id="rateIron">+0/h</div><div class="resource-storage" id="storeIron"></div></div></div>
            <div class="resource"><span class="resource-icon">ğŸŒ¾</span><div><span class="resource-value" id="resCrop">0</span><div class="resource-rate" id="rateCrop">+0/h</div><div class="resource-storage" id="storeCrop"></div></div></div>
            <div class="resource resource-spacer"><span class="resource-icon">â±ï¸</span><div><span class="resource-value" id="gameTime">Tag 1</span></div></div>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="map">ğŸ—ºï¸ Karte</button>
            <button class="tab" data-tab="village">ğŸ° Dorf</button>
            <button class="tab" data-tab="troops">âš”ï¸ Truppen</button>
            <button class="tab" data-tab="reports">ğŸ“œ Berichte</button>
        </div>

        <div id="queueContainer" class="queue" style="display:none"><div id="queueList"></div></div>

        <div id="mapTab" class="village-view active">
            <div class="map-container">
                <div class="section-header"><h3 class="section-title">Weltkarte</h3><button class="help-btn" type="button" data-help="map" aria-label="Hilfe zur Karte">?</button></div>
                <div class="map-grid" id="mapGrid"></div>
                <div class="info-panel">
                    <h3>â„¹ï¸ Hinweis</h3>
                    <p>Klicke auf dein Dorf (ğŸ°) um es zu verwalten. Baue Rohstofffelder aus, errichte GebÃ¤ude und rekrutiere Truppen!</p>
                </div>
            </div>
        </div>

        <div id="villageTab" class="village-view">
            <div class="map-container">
                <div class="section-header"><h3 class="section-title">Dorfzentrum</h3><button class="help-btn" type="button" data-help="village" aria-label="Hilfe zum Dorfzentrum">?</button></div>
                <p class="section-subtitle">Klicke auf ein GebÃ¤ude oder Feld zum Ausbauen</p>
                <div class="village-layout" id="villageLayout"></div>
                <div class="section-header"><h3 class="section-title">Rohstofffelder</h3><button class="help-btn" type="button" data-help="fields" aria-label="Hilfe zu Rohstofffeldern">?</button></div>
                <div class="resource-fields" id="resourceFields"></div>
            </div>
        </div>

        <div id="troopsTab" class="village-view">
            <div class="map-container">
                <div class="section-header"><h3 class="section-title">Kaserne</h3><button class="help-btn" type="button" data-help="troops" aria-label="Hilfe zu Truppen">?</button></div>
                <p class="section-subtitle">Rekrutiere Truppen â€“ verbrauchen Getreide pro Stunde</p>
                <div class="troops-grid" id="troopsGrid"></div>
            </div>
        </div>

        <div id="reportsTab" class="village-view">
            <div class="map-container">
                <div class="section-header"><h3 class="section-title">Berichte</h3><button class="help-btn" type="button" data-help="reports" aria-label="Hilfe zu Berichten">?</button></div>
                <div class="report-list" id="reportList"></div>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal help-modal" style="z-index:1001" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
        <div class="modal-content">
            <h2 id="helpTitle">Hilfe</h2>
            <p class="help-text" id="helpText"></p>
            <div class="modal-actions"><button class="btn" id="helpCloseBtn" type="button">SchlieÃŸen</button></div>
        </div>
    </div>
    <div id="buildingModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-content">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:0.5rem">
                <h2 id="modalTitle">GebÃ¤ude</h2>
                <button class="help-btn" id="modalHelpBtn" type="button" style="display:none" aria-label="ErklÃ¤rung">?</button>
            </div>
            <p class="desc" id="modalDesc"></p>
            <div class="costs" id="modalCosts"></div>
            <div class="time" id="modalTime"></div>
            <div class="modal-actions">
                <button class="btn btn-danger" id="modalCancel" type="button">Abbrechen</button>
                <button class="btn" id="modalBuild" type="button">Ausbauen</button>
            </div>
        </div>
    </div>

    <script type="module" src="./src/main.js"></script>
</body>
</html>
